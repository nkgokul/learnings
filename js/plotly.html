<head>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
  
  <div id="graph"></div>
  <script>
    <!-- JAVASCRIPT CODE GOES HERE -->
var colorscaleValue = [
  [1, '#000000'],
  [0.5, '#777777'],  
  [0, '#ffffff']
];

var data = [
  {
     x: [1,2,3,4,5,6,7,8,9,10],
     y: [10,20,30,40,50,60,70,80,90,100],
     type:"heatmap",
     colorscale: colorscaleValue,
     //reversescale: true,
     showscale: true
  }
];

zArray = new Array(2);

for(x=0; x<=9; x++) {
		zArray[x]=[];
		for (y=0; y<=9; y++){;
				zArray[x][y] = 0;
				}
}

data[0].z = zArray;

Plotly.newPlot('graph', data);

var count = 0;
function myFunction() {
    count++;
    console.log("Count" + count);
    if(count > 1000) clearInterval(timeout);
    var rand = Math.floor(Math.random() * 100);
    data[0].z[rand%10][Math.floor(rand/10)] = data[0].z[rand%10][Math.floor(rand/10)] + 1;
    Plotly.animate('graph', {
        data: [data[0]],
        traces: [0],
        layout: {}
      }, {
        transition: {
          duration: 10,
          easing: 'cubic-in-out'
        },
        frame: {
          duration: 10
        }
      })
}
var timeout = setInterval(myFunction, 100);



  </script>
</body>
